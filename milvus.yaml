# Milvus Configuration for Vietnamese Healthcare Knowledge Base
# Optimized for medical document embeddings and semantic search

etcd:
  endpoints:
    - etcd:2379

minio:
  address: minio
  port: 9000
  accessKeyID: minioadmin
  secretAccessKey: minioadmin
  useSSL: false
  bucketName: "a-bucket"
  rootPath: "files"

# Storage configuration for Vietnamese medical documents
storage:
  path: /var/lib/milvus
  
# Memory and performance optimization for healthcare workloads
queryCoord:
  autoHandoff: true
  autoBalance: true
  overloadedMemoryThresholdPercentage: 90

queryNode:
  cacheSize: 32 # GB
  
dataCoord:
  enableCompaction: true
  enableGarbageCollection: true

dataNode:
  flushInsertBufferSize: 16777216 # 16MB
  
# Index configuration optimized for medical embeddings
indexCoord:
  minSegmentSizeToEnableIndex: 1024

# Logging configuration for healthcare compliance
log:
  level: info
  file:
    rootPath: "/var/lib/milvus/logs"
    maxSize: 300 # MB
    maxAge: 10 # days
    maxBackups: 20

# Security settings for healthcare data
common:
  security:
    authorizationEnabled: false # Enable in production
    tlsMode: 0 # 0: disabled, 1: one-way, 2: two-way
  
# Vietnamese healthcare specific settings
vietnamese:
  # Medical terminology processing
  medicalTerminology:
    enableTraditionalMedicine: true
    enableModernMedicine: true
    enableCulturalContext: true
  
  # Embedding dimensions for Vietnamese medical text
  embeddingDimension: 1536 # OpenAI ada-002 dimension
  
  # Search configuration
  search:
    topK: 10
    nprobe: 16
    searchTimeoutMs: 30000
  
  # Collection settings for Vietnamese medical knowledge
  collections:
    medicalKnowledge:
      shardNum: 2
      replicaNumber: 1
      description: "Vietnamese medical knowledge base with traditional and modern medicine"
    
    traditionalMedicine:
      shardNum: 1
      replicaNumber: 1
      description: "Vietnamese traditional medicine (thuá»‘c nam) knowledge base"
    
    pharmaceuticals:
      shardNum: 1
      replicaNumber: 1
      description: "Vietnamese pharmaceutical and drug interaction database"
    
    symptoms:
      shardNum: 1
      replicaNumber: 1
      description: "Vietnamese symptom and disease pattern database"
